(function(){function e(e,t){function l(e,t){if(!r.getComputedStyle){r.getComputedStyle=function(e,t){this.el=e;this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;if(t=="float")t="styleFloat";if(n.test(t)){t=t.replace(n,function(){return arguments[2].toUpperCase()})}return e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null};return this}}return r.getComputedStyle(e,null).getPropertyValue(t)}function c(t){var n=t||e.clientHeight,r=p(e);return Math.max(Math.floor(n/r),0)}function h(t){var n=p(e);return n*t}function p(e){var t=l(e,"line-height");if(t=="normal"){t=parseInt(l(e,"font-size"))*1.3}return parseInt(t)}function y(t){if(t.lastChild.children&&t.lastChild.children.length>0){return y(Array.prototype.slice.call(t.children).pop())}else if(!t.lastChild||!t.lastChild.nodeValue||t.lastChild.nodeValue==""||t.lastChild.nodeValue=="…"){t.lastChild.parentNode.removeChild(t.lastChild);return y(e)}else{return t.lastChild}}function b(t,n){function r(){d=i.splitOnChars.slice(0);v=d[0];m=null;g=null}if(!n){return}var s=t.nodeValue.replace(/…/,"");if(!m){if(d.length>0){v=d.shift()}else{v=""}m=s.split(v)}if(m.length>1){g=m.pop();w(t,m.join(v))}else{m=null}if(m){if(e.clientHeight<=n){if(d.length>=0&&v!=""){w(t,m.join(v)+v+g);m=null}else{return false}}}else{if(v==""){w(t,"");t=y(e);r()}}if(i.animate){setTimeout(function(){b(t,n)},i.animate===true?10:i.animate)}else{b(t,n)}}function w(e,t){e.nodeValue=t+"…"}t=t||{};var n=this,r=window,i={clamp:t.clamp||2,useNativeClamp:typeof t.useNativeClamp!="undefined"?t.useNativeClamp:true,splitOnChars:t.splitOnChars||[".","-","–","—"," "],animate:t.animate||false},s=e.style,o=e.innerHTML,u=typeof e.style.webkitLineClamp!="undefined",a=i.clamp,f=a.indexOf&&(a.indexOf("px")>-1||a.indexOf("em")>-1);var d=i.splitOnChars.slice(0),v=d[0],m,g;if(a=="auto"){a=c()}else if(f){a=c(parseInt(a))}if(u&&i.useNativeClamp){s.overflow="hidden";s.textOverflow="ellipsis";s.webkitBoxOrient="vertical";s.display="-webkit-box";s.webkitLineClamp=a;if(f){s.height=i.clamp+"px"}}else{var E=h(a);if(E<=e.clientHeight){b(y(e),E)}}}window.$clamp=e})()